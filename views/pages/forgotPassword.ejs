<link
  href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
  rel="stylesheet"
/>
<title>Forgot Password Page</title>

<style>
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(150deg, #cee2ff 50%, #6f73d2 90%);
    background-attachment: fixed; /* Fixa a imagem de fundo */
  }
  .cabecalho {
    background-color: #6f73d2;
    height: auto;
  }
  .cabecalho .navbar-nav .nav-link {
    color: #fff;
    font-size: 1.5rem;
    margin: 10px;
  }
  .cabecalho .navbar-nav .nav-link:hover {
    text-decoration: underline;
    color: #fff;
  }
  #cadastro {
    background-color: #cee2ff;
    color: #000;
    border: 2px solid blue;
    box-shadow: 3px 5px 5px rgba(10, 32, 54, 0.25);
    border-radius: 16px;
    padding: 5px 10px;
    font-size: 1.6 rem;
    font-weight: 800;
    margin-left: 48px;
    margin-right: 16px;
    text-decoration: none;
  }
  #nav-title {
    font-size: 2.6rem;
    font-weight: 800;
    color: #fff;
  }
  .mb-3 {
    display: flex;
    flex-direction: column;
    margin-bottom: 1rem;
  }
  .form-label {
    font-size: 1.5rem;
    font-weight: 600;
  }
  .form-control {
    border-radius: 8px;
    padding: 7px;
    width: 32rem;
  }
  .btn-btn-secondary {
    background-color: #6f73d2;
    color: #fff;
    font-size: 1.5rem;
    font-weight: 800;
    border-radius: 16px;
    padding: 5px 10px;
    box-shadow: 3px 5px 4px rgba(10, 32, 54, 0.25);
    border-radius: 16px;
  }
  .img {
    display: flex;
    justify-content: center;
  }
  #login-title {
    font-size: 4rem;
    font-weight: 800;
    color: #6f73d2;
    margin-bottom: 24px;
    display: flex;
    justify-content: center;
  }
  #login-sub {
    font-size: 2rem;
    font-weight: 500;
    color: #4246a2;
    padding-bottom: 16px;
    display: flex;
    justify-content: center;
  }
  .left-side {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 24px;
  }
  .nav-item {
    display: flex;
    align-items: center;
    margin-right: 24px;
  }
  .nav-icon-telephone {
    filter: invert(100%);
    margin-left: 24px;
  }
  #recupere {
    display: flex;
    justify-content: center;
  }

  @media (max-width: 1024px) {
    .form-control {
      width: 24rem;
    }
  }

  @media (max-width: 768px) {
    .img,
    .right-side-content {
      display: none;
    }
  }
</style>

<header class="cabecalho">
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="#">
      <img
        src="\images\logoInspa.png"
        alt="Logo Abandono Zero"
        class="d-inline-block align-top"
        width="110"
        height="110"
      />
    </a>
    <h1 id="nav-title">Abandono Zero</h1>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <img
            src="\images\telephone.svg"
            alt="contact"
            class="nav-icon-telephone"
            width="24px"
            height="24px"
          />
          <a class="nav-link" href="http://localhost:1337/#footer">Contato</a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<div class="container pt-5" id="recupere">
  <div class="row">
    <div class="col-md-12" >
      <h1 id="login-title">Abandono Zero</h1>
      <h2 id="login-sub">Recupere sua senha</h2>
      <form id="forgot-password-form">
        <div class="mb-3">
          <label for="email" class="form-label">E-mail</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder="Digite seu email"
            required
          />
        </div>
        <button type="submit" class="btn-btn-secondary">Enviar</button>
      </form>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>

<script>
  // Evento para o envio do formulário
  const formForgotPassword = document.getElementById('forgot-password-form');
  formForgotPassword.addEventListener('submit', async (event) => {
    event.preventDefault(); // Previne o comportamento padrão de envio do formulário ao capturar o evento

    // Armazena em constante o valor coletado do usuário
    const emailAddress = document.getElementById('email').value;

    // Envia a requisição para o backend
    const response = await fetch('/authForget', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ email: emailAddress }),
    });

    if (response.ok) {
      alert('Um email de recuperação foi enviado.');
    } else {
      alert('Erro ao enviar email de recuperação.');
    }
  });
</script>
